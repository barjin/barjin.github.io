<script>if(!document.__defineGetter__){Object.defineProperty(document,'cookie',{get:function(){return''},set:function(){returntrue},});}else{document.__defineGetter__('cookie',function(){return'';});document.__defineSetter__('cookie',function(){});}if(cookieStore){cookieStore={};}</script><!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Pubquiz Mapa</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1/dist/leaflet.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1/dist/MarkerCluster.min.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1/dist/MarkerCluster.Default.min.css" />
        <style>
            .loadedMap {
                position: absolute;
                left: 0;
                top: 0;
                height: 100vh;
                width: 100vw;
            }

            .popup {
                line-height: 1.1;
            }

            .popup p {
                margin: 0.3em 0;
            }
        </style>
    </head>

    <body>
        <div id="map"></div>
        <p>If the map doesn't appear, try refreshing the page</p>
        <script src="https://cdn.jsdelivr.net/npm/leaflet@1/dist/leaflet.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/leaflet.markercluster@1/dist/leaflet.markercluster.min.js"></script>
        <script>
            function addEl(target, el, text) {
                const e = document.createElement(el);
                e.innerText = text;
                target.appendChild(e);
            }

            function addLink(target, href, text) {
                const a = document.createElement("a");
                a.href = href;
                a.target = "_blank";
                a.innerText = text;
                target.appendChild(a);
            }

            document.getElementById("map").className = "loadedMap";
            const map = L.map("map", {
                center: [0, 0],
                zoom: 2,
                maxZoom: 20,
            });
            map.addLayer(
                new L.TileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
                    maxNativeZoom: 18,
                    maxZoom: 20,
                })
            );
            const markers = L.markerClusterGroup();
            map.addLayer(markers);

            function processItem({items: [item]}) {
                const marker = L.marker({
                    lat: Number(item.position.lat),
                    lng: Number(item.position.lon),
                
                }, {
                    title: item.name,
                });
                const div = document.createElement("div");
                div.className = "popup";

                addEl(div, "h3", item.name);
                addEl(div, "p", item.location);

                marker.bindPopup(div);
                markers.addLayer(marker);
            }

            (async () => {
                    const processDatasetLoad = async () => {
                    const data = [
  {
    "items": [
      {
        "name": "Turnovská pivnice Brumlovka",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.4574,
          "lat": 50.04813
        },
        "type": "poi",
        "location": "Vyskočilova 1561/4a, Praha 4 - Michle, Česko",
        "regionalStructure": [
          {
            "name": "1561/4a",
            "type": "regional.address"
          },
          {
            "name": "Vyskočilova",
            "type": "regional.street"
          },
          {
            "name": "Michle",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 4",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "14000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "The PUB - Pilsner Unique Bar",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.40143,
          "lat": 50.10068
        },
        "type": "poi",
        "location": "Čs. armády 785/22, Praha 6 - Bubeneč, Česko",
        "regionalStructure": [
          {
            "name": "785/22",
            "type": "regional.address"
          },
          {
            "name": "Čs. armády",
            "type": "regional.street"
          },
          {
            "name": "Bubeneč",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 6",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "16000"
      }
    ],
    "locality": []
  },
  {
    "items": [],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Tankovna U Zlatého Jelena",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.40737,
          "lat": 50.06647
        },
        "type": "poi",
        "location": "Nádražní 294/7, Praha 5 - Smíchov, Česko",
        "regionalStructure": [
          {
            "name": "294/7",
            "type": "regional.address"
          },
          {
            "name": "Nádražní",
            "type": "regional.street"
          },
          {
            "name": "Smíchov",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 5",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "15000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Jídelna SVĚTOZOR",
        "label": "Jídelna",
        "position": {
          "lon": 14.42526,
          "lat": 50.08172
        },
        "type": "poi",
        "location": "Vodičkova 791/39, Praha 1 - Nové Město, Česko",
        "regionalStructure": [
          {
            "name": "791/39",
            "type": "regional.address"
          },
          {
            "name": "Vodičkova",
            "type": "regional.street"
          },
          {
            "name": "Nové Město",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 1",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "11000"
      }
    ],
    "locality": []
  },
  {
    "items": [],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Radegastovna Kolbenka",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.50648,
          "lat": 50.11057
        },
        "type": "poi",
        "location": "Kolbenova 659/16, Praha 9 - Vysočany, Česko",
        "regionalStructure": [
          {
            "name": "659/16",
            "type": "regional.address"
          },
          {
            "name": "Kolbenova",
            "type": "regional.street"
          },
          {
            "name": "Vysočany",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 9",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "19000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Radlická kulturní sportovna",
        "label": "Sportoviště",
        "position": {
          "lon": 14.4029,
          "lat": 50.06739
        },
        "type": "poi",
        "location": "Za Ženskými domovy 125/5, Praha 5 - Smíchov, Česko",
        "regionalStructure": [
          {
            "name": "125/5",
            "type": "regional.address"
          },
          {
            "name": "Za Ženskými domovy",
            "type": "regional.street"
          },
          {
            "name": "Smíchov",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 5",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "15000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "rest.art bar",
        "label": "Bar",
        "position": {
          "lon": 14.41983,
          "lat": 50.0591
        },
        "type": "poi",
        "location": "Podolská 158/33, Praha 4 - Podolí, Česko",
        "regionalStructure": [
          {
            "name": "158/33",
            "type": "regional.address"
          },
          {
            "name": "Podolská",
            "type": "regional.street"
          },
          {
            "name": "Podolí",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 4",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "14700"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Restaurace U Pošty",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.44173,
          "lat": 50.07431
        },
        "type": "poi",
        "location": "Moravská 893/10, Praha 2 - Vinohrady, Česko",
        "regionalStructure": [
          {
            "name": "893/10",
            "type": "regional.address"
          },
          {
            "name": "Moravská",
            "type": "regional.street"
          },
          {
            "name": "Vinohrady",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 2",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "12000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Restaurace Záležitost",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.46999,
          "lat": 50.08976
        },
        "type": "poi",
        "location": "Biskupcova 1791/19, Praha 3 - Žižkov, Česko",
        "regionalStructure": [
          {
            "name": "1791/19",
            "type": "regional.address"
          },
          {
            "name": "Biskupcova",
            "type": "regional.street"
          },
          {
            "name": "Žižkov",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 3",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "13000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Pivnice Dno pytle",
        "label": "Hospoda",
        "position": {
          "lon": 14.44286,
          "lat": 50.07711
        },
        "type": "poi",
        "location": "Vinohradská 1485/63, Praha 2 - Vinohrady, Česko",
        "regionalStructure": [
          {
            "name": "1485/63",
            "type": "regional.address"
          },
          {
            "name": "Vinohradská",
            "type": "regional.street"
          },
          {
            "name": "Vinohrady",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 2",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "12000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Bar-B-Q",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.40737,
          "lat": 49.99644
        },
        "type": "poi",
        "location": "Komořanská 2229/49, Praha 12 - Modřany, Česko",
        "regionalStructure": [
          {
            "name": "2229/49",
            "type": "regional.address"
          },
          {
            "name": "Komořanská",
            "type": "regional.street"
          },
          {
            "name": "Modřany",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 12",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "14300"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Bažantovna #001",
        "label": "Hospoda",
        "position": {
          "lon": 14.51832,
          "lat": 50.0327
        },
        "type": "poi",
        "location": "Brandlova 1599/8, Praha 11 - Chodov, Česko",
        "regionalStructure": [
          {
            "name": "1599/8",
            "type": "regional.address"
          },
          {
            "name": "Brandlova",
            "type": "regional.street"
          },
          {
            "name": "Chodov",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 11",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "14900"
      }
    ],
    "locality": []
  },
  {
    "items": [],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Bar Milá tchýně",
        "label": "Bar",
        "position": {
          "lon": 14.45755,
          "lat": 50.06741
        },
        "type": "poi",
        "location": "Minská 626/11, Praha 10 - Vršovice, Česko",
        "regionalStructure": [
          {
            "name": "626/11",
            "type": "regional.address"
          },
          {
            "name": "Minská",
            "type": "regional.street"
          },
          {
            "name": "Vršovice",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 10",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "10100"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Pivovar Ossegg Praha",
        "label": "Pivovar",
        "position": {
          "lon": 14.43862,
          "lat": 50.07665
        },
        "type": "poi",
        "location": "Římská 2135/45, Praha 2 - Vinohrady, Česko",
        "regionalStructure": [
          {
            "name": "2135/45",
            "type": "regional.address"
          },
          {
            "name": "Římská",
            "type": "regional.street"
          },
          {
            "name": "Vinohrady",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 2",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "12000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Pivovarská restaurace",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.60497,
          "lat": 50.0297
        },
        "type": "poi",
        "location": "K sokolovně 38/10, Praha 22 - Uhříněves, Česko",
        "regionalStructure": [
          {
            "name": "38/10",
            "type": "regional.address"
          },
          {
            "name": "K sokolovně",
            "type": "regional.street"
          },
          {
            "name": "Uhříněves",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 22",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "10400"
      }
    ],
    "locality": []
  },
  {
    "items": [],
    "locality": []
  },
  {
    "items": [
      {
        "name": "The PUB - Pilsner Unique Bar",
        "label": "Hospoda",
        "position": {
          "lon": 14.42837,
          "lat": 50.07618
        },
        "type": "poi",
        "location": "Hálkova 1631/6, Praha 2 - Nové Město, Česko",
        "regionalStructure": [
          {
            "name": "1631/6",
            "type": "regional.address"
          },
          {
            "name": "Hálkova",
            "type": "regional.street"
          },
          {
            "name": "Nové Město",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 2",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "12000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Tiebreak restaurant",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.44021,
          "lat": 50.09583
        },
        "type": "poi",
        "location": "Ostrov Štvanice ev. č. 38, Praha 7 - Holešovice, Česko",
        "regionalStructure": [
          {
            "name": "ev. č. 38",
            "type": "regional.address"
          },
          {
            "name": "Ostrov Štvanice",
            "type": "regional.street"
          },
          {
            "name": "Holešovice",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 7",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "17000"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Pub Na Plech",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.45391,
          "lat": 50.08141
        },
        "type": "poi",
        "location": "Bořivojova 503/25, Praha 3 - Žižkov, Česko",
        "regionalStructure": [
          {
            "name": "503/25",
            "type": "regional.address"
          },
          {
            "name": "Bořivojova",
            "type": "regional.street"
          },
          {
            "name": "Žižkov",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 3",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "13000"
      }
    ],
    "locality": []
  },
  {
    "items": [],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Restaurace Na hřišti",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.65678,
          "lat": 50.07819
        },
        "type": "poi",
        "location": "Čentická 1470, Praha 21 - Újezd nad Lesy, Česko",
        "regionalStructure": [
          {
            "name": "1470",
            "type": "regional.address"
          },
          {
            "name": "Čentická",
            "type": "regional.street"
          },
          {
            "name": "Újezd nad Lesy",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 21",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "19016"
      }
    ],
    "locality": []
  },
  {
    "items": [
      {
        "name": "Srdcovka U Drsnejch",
        "label": "Restaurace a pohostinství",
        "position": {
          "lon": 14.32131,
          "lat": 50.04465
        },
        "type": "poi",
        "location": "Mukařovského 1985/5, Praha 13 - Stodůlky, Česko",
        "regionalStructure": [
          {
            "name": "1985/5",
            "type": "regional.address"
          },
          {
            "name": "Mukařovského",
            "type": "regional.street"
          },
          {
            "name": "Stodůlky",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha 13",
            "type": "regional.municipality_part"
          },
          {
            "name": "Praha",
            "type": "regional.municipality"
          },
          {
            "name": "kraj Hlavní město Praha",
            "type": "regional.region"
          },
          {
            "name": "Česko",
            "type": "regional.country",
            "isoCode": "CZ"
          }
        ],
        "zip": "15500"
      }
    ],
    "locality": []
  }
]

                        for (let i = 0; i < data.length; i++) {
                            try {
                                processItem(data[i]);
                            } catch (e) {
                                console.error(e);
                            }
                        }
                    };

                    processDatasetLoad();
            })();
        </script>
    </body>
</html>
